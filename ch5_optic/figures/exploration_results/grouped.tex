\begin{figure}[t]
    \centering
    \begin{tikzpicture}
    \begin{groupplot}[
        group style={group size=1 by 2,vertical sep=10pt,x descriptions at=edge bottom},
        width=0.7\columnwidth, height=5cm,
        ybar,
        ymin=0,
        enlarge x limits=0.3,
        legend style={at={(1,1.07)},
            anchor=south east,legend columns=-1,
            /tikz/every even column/.append style={column sep=0.2cm}},
        legend image code/.code={
            \draw [#1] (0cm,-0.1cm) rectangle (0.2cm,0.25cm);},
        xlabel={Reduction of Capacitance},
        symbolic x coords={0\%,30\%,60\%},
        xtick=data,
        tick align=inside,
        ]
        \nextgroupplot[ymax=60,ylabel={No. Completions},]
        % DEBS low
        \addplot
            plot [black,fill=Set1-A,postaction={pattern=dots},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=debs_l_perf,y error plus=debs_l_perf+, y error minus=debs_l_perf-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        % Samoyed
        \addplot
            plot [black,fill=Set1-B,postaction={pattern=north east lines},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=samoyed_perf,y error plus=samoyed_perf+, y error minus=samoyed_perf-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        % DEBS high
        \addplot
            plot [black,fill=Set1-C,postaction={pattern=north west lines},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=debs_h_perf,y error plus=debs_h_perf+, y error minus=debs_h_perf-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        % REPA
        \addplot
            plot [black,fill=Set1-D,postaction={pattern=grid},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=repa_perf,y error plus=repa_perf+, y error minus=repa_perf-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        \legend{\debs{} Low, Samoyed , \debs{} High , Adaptive}

        \nextgroupplot[ymax=30,ylabel={No. Failures},]
            % DEBS low
        \addplot
            plot [black,fill=Set1-A,postaction={pattern=dots},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=debs_l_fail,y error plus=debs_l_fail+, y error minus=debs_l_fail-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        % Samoyed
        \addplot
            plot [black,fill=Set1-B,postaction={pattern=north east lines},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=samoyed_fail,y error plus=samoyed_fail+, y error minus=samoyed_fail-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        % DEBS high
        \addplot
            plot [black,fill=Set1-C,postaction={pattern=north west lines},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=debs_h_fail,y error plus=debs_h_fail+, y error minus=debs_h_fail-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
        % REPA
        \addplot
            plot [black,fill=Set1-D,postaction={pattern=grid},error bars/.cd,y dir=both,y explicit]
            table [x=cap_reduct,y=repa_fail,y error plus=repa_fail+, y error minus=repa_fail-, col sep=comma] {ch5_optic/figures/exploration_results/results.csv};
    \end{groupplot}
    \end{tikzpicture}
    \caption{Numbers of completed and failed operations among four control schemes given random data sizes and configurations under three capacitance conditions. }
    \label{fig:simulation}
\end{figure} 
